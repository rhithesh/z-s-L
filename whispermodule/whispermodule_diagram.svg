<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="957px" preserveAspectRatio="none" style="width:1712px;height:957px;background:#FFFFFF;" version="1.1" viewBox="0 0 1712 957" width="1712px" zoomAndPan="magnify"><title>WhisperModule - Voice Input &amp; Transcription System</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="383.8994" x="657.0503" y="23.5352">WhisperModule - Voice Input &amp; Transcription System</text></g><!--cluster whispermodule--><g class="cluster" data-entity="whispermodule" data-source-line="3" data-uid="ent0002" id="cluster_whispermodule"><path d="M8.5,43.4883 L120.8301,43.4883 A3.75,3.75 0 0 1 123.3301,45.9883 L130.3301,65.9766 L1149.5,65.9766 A2.5,2.5 0 0 1 1152,68.4766 L1152,759.1283 A2.5,2.5 0 0 1 1149.5,761.6283 L8.5,761.6283 A2.5,2.5 0 0 1 6,759.1283 L6,45.9883 A2.5,2.5 0 0 1 8.5,43.4883" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="130.3301" y1="65.9766" y2="65.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="111.3301" x="10" y="59.0234">whispermodule</text></g><!--cluster parent--><g class="cluster" data-entity="parent" data-source-line="63" data-uid="ent0007" id="cluster_parent"><path d="M1178.5,580.1883 L1226.4424,580.1883 A3.75,3.75 0 0 1 1228.9424,582.6883 L1235.9424,602.6766 L1379.5,602.6766 A2.5,2.5 0 0 1 1382,605.1766 L1382,742.6383 A2.5,2.5 0 0 1 1379.5,745.1383 L1178.5,745.1383 A2.5,2.5 0 0 1 1176,742.6383 L1176,582.6883 A2.5,2.5 0 0 1 1178.5,580.1883" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1176" x2="1235.9424" y1="602.6766" y2="602.6766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="46.9424" x="1180" y="595.7234">parent</text></g><!--cluster External Services--><g class="cluster" data-entity="External Services" data-source-line="72" data-uid="ent0009" id="cluster_External Services"><path d="M804.5,785.6283 L928.0068,785.6283 A3.75,3.75 0 0 1 930.5068,788.1283 L937.5068,808.1166 L1702.5,808.1166 A2.5,2.5 0 0 1 1705,810.6166 L1705,948.0783 A2.5,2.5 0 0 1 1702.5,950.5783 L804.5,950.5783 A2.5,2.5 0 0 1 802,948.0783 L802,788.1283 A2.5,2.5 0 0 1 804.5,785.6283" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="802" x2="937.5068" y1="808.1166" y2="808.1166"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="122.5068" x="806" y="801.1634">External Services</text></g><!--class VoiceInput--><g class="entity" data-entity="VoiceInput" data-source-line="5" data-uid="ent0003" id="entity_VoiceInput"><rect fill="#F1F1F1" height="460.207" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="522.5078" x="613.75" y="78.4883"/><ellipse cx="834.6396" cy="94.4883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M837.1128,100.6313 Q836.5317,100.9302 835.8926,101.0796 Q835.2534,101.229 834.5479,101.229 Q832.041,101.229 830.7212,99.5771 Q829.4014,97.9253 829.4014,94.8042 Q829.4014,91.6748 830.7212,90.0229 Q832.041,88.3711 834.5479,88.3711 Q835.2534,88.3711 835.9009,88.5205 Q836.5483,88.6699 837.1128,88.9688 L837.1128,91.6914 Q836.4819,91.1104 835.8884,90.8406 Q835.2949,90.5708 834.6641,90.5708 Q833.3193,90.5708 832.6345,91.6375 Q831.9497,92.7041 831.9497,94.8042 Q831.9497,96.896 832.6345,97.9626 Q833.3193,99.0293 834.6641,99.0293 Q835.2949,99.0293 835.8884,98.7595 Q836.4819,98.4897 837.1128,97.9087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.2285" x="855.1396" y="99.7793">VoiceInput</text><line style="stroke:#181818;stroke-width:0.5;" x1="614.75" x2="1135.2578" y1="110.4883" y2="110.4883"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="121.2324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.5303" x="633.75" y="128.0234">main: DMSLMMain</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="137.7207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="496.5078" x="633.75" y="144.5117">wakeWords: list = ["Hey Friend", "Hello Friend", "Hi Friend", "Heyy friend"]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="633.75" y="161">&#160;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="170.6973"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.083" x="633.75" y="177.4883">SAMPLE_RATE: int = 48000</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="187.1855"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.0732" x="633.75" y="193.9766">BLOCK_SIZE: int = 2048</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="203.6738"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204.9482" x="633.75" y="210.4648">SILENCE_TIMEOUT: float = 0.7</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="220.1621"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217.1367" x="633.75" y="226.9531">RMS_THRESHOLD: float = 0.015</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="236.6504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206.2744" x="633.75" y="243.4414">MIN_SPEECH_SEC: float = 0.30</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="633.75" y="259.9297">&#160;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="269.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.3779" x="633.75" y="276.418">audio_queue: Queue</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="286.1152"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2539" x="633.75" y="292.9063">speech_buffer: np.ndarray</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="302.6035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.2529" x="633.75" y="309.3945">speaking: bool = False</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="319.0918"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188.8633" x="633.75" y="325.8828">stop_event: threading.Event</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="621.75" y="335.5801"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.9512" x="633.75" y="342.3711">listener_thread: Thread</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="633.75" y="358.8594">&#160;</text><line style="stroke:#181818;stroke-width:1;" x1="614.75" x2="1135.2578" y1="365.8125" y2="365.8125"/><ellipse cx="624.75" cy="379.5566" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319.0127" x="633.75" y="383.3477">__init__(main, device_index, device_name_hint)</text><ellipse cx="624.75" cy="396.0449" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239.9346" x="633.75" y="399.8359">wakeWorDetector(text: str) -&gt; bool</text><ellipse cx="624.75" cy="412.5332" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221.293" x="633.75" y="416.3242">_rms(audio: np.ndarray) -&gt; float</text><ellipse cx="624.75" cy="429.0215" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="372.9482" x="633.75" y="432.8125">_resolve_device_index(device_index, name_hint) -&gt; int</text><ellipse cx="624.75" cy="445.5098" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="336.1162" x="633.75" y="449.3008">_audio_callback(indata, frames, time_info, status)</text><ellipse cx="624.75" cy="461.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.0537" x="633.75" y="465.7891">_listen() : void</text><ellipse cx="624.75" cy="478.4863" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="327.7217" x="633.75" y="482.2773">_process_audio_chunk(chunk: np.ndarray) : void</text><ellipse cx="624.75" cy="494.9746" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.8457" x="633.75" y="498.7656">_transcribe_and_send() : void</text><ellipse cx="624.75" cy="511.4629" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.5947" x="633.75" y="515.2539">_clear_audio_state() : void</text><ellipse cx="624.75" cy="527.9512" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.8828" x="633.75" y="531.7422">stop() : void</text></g><!--class WakeWordDetector--><g class="entity" data-entity="WakeWordDetector" data-source-line="34" data-uid="ent0004" id="entity_WakeWordDetector"><rect fill="#F1F1F1" height="113.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="284.4258" x="21.79" y="615.1883"/><ellipse cx="95.3208" cy="631.1883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M97.7939,637.3313 Q97.2129,637.6302 96.5737,637.7796 Q95.9345,637.929 95.229,637.929 Q92.7221,637.929 91.4023,636.2771 Q90.0825,634.6253 90.0825,631.5042 Q90.0825,628.3748 91.4023,626.7229 Q92.7221,625.0711 95.229,625.0711 Q95.9345,625.0711 96.582,625.2205 Q97.2295,625.3699 97.7939,625.6688 L97.7939,628.3914 Q97.163,627.8104 96.5695,627.5406 Q95.976,627.2708 95.3452,627.2708 Q94.0004,627.2708 93.3156,628.3375 Q92.6308,629.4041 92.6308,631.5042 Q92.6308,633.596 93.3156,634.6626 Q94.0004,635.7293 95.3452,635.7293 Q95.976,635.7293 96.5695,635.4595 Q97.163,635.1897 97.7939,634.6087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.8643" x="115.8208" y="636.4793">WakeWordDetector</text><line style="stroke:#181818;stroke-width:0.5;" x1="22.79" x2="305.2158" y1="647.1883" y2="647.1883"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.79" y="657.9324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.0801" x="41.79" y="664.7234">wakeWords: list</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.79" y="674.4207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.7344" x="41.79" y="681.2117">cutoff: float = 0.6</text><line style="stroke:#181818;stroke-width:1;" x1="22.79" x2="305.2158" y1="688.1648" y2="688.1648"/><ellipse cx="32.79" cy="701.909" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.126" x="41.79" y="705.7">detect(text: str) -&gt; bool</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.79" y="715.3973"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258.4258" x="41.79" y="722.1883">match_close_strings(text: str) -&gt; bool</text></g><!--class AudioProcessor--><g class="entity" data-entity="AudioProcessor" data-source-line="42" data-uid="ent0005" id="entity_AudioProcessor"><rect fill="#F1F1F1" height="146.9297" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="306.916" x="341.54" y="598.6983"/><ellipse cx="438.0258" cy="614.6983" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M440.499,620.8413 Q439.9179,621.1402 439.2788,621.2896 Q438.6396,621.439 437.934,621.439 Q435.4272,621.439 434.1074,619.7871 Q432.7876,618.1353 432.7876,615.0142 Q432.7876,611.8848 434.1074,610.2329 Q435.4272,608.5811 437.934,608.5811 Q438.6396,608.5811 439.2871,608.7305 Q439.9345,608.8799 440.499,609.1788 L440.499,611.9014 Q439.8681,611.3204 439.2746,611.0506 Q438.6811,610.7808 438.0503,610.7808 Q436.7055,610.7808 436.0207,611.8475 Q435.3359,612.9141 435.3359,615.0142 Q435.3359,617.106 436.0207,618.1726 Q436.7055,619.2393 438.0503,619.2393 Q438.6811,619.2393 439.2746,618.9695 Q439.8681,618.6997 440.499,618.1187 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.4443" x="458.5258" y="619.9893">AudioProcessor</text><line style="stroke:#181818;stroke-width:0.5;" x1="342.54" x2="647.456" y1="630.6983" y2="630.6983"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="349.54" y="641.4424"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2539" x="361.54" y="648.2334">speech_buffer: np.ndarray</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="349.54" y="657.9307"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.3086" x="361.54" y="664.7217">RMS_THRESHOLD: float</text><line style="stroke:#181818;stroke-width:1;" x1="342.54" x2="647.456" y1="671.6748" y2="671.6748"/><ellipse cx="352.54" cy="685.419" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280.916" x="361.54" y="689.21">calculate_rms(audio: np.ndarray) -&gt; float</text><ellipse cx="352.54" cy="701.9073" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.3994" x="361.54" y="705.6983">is_speech(rms: float) -&gt; bool</text><ellipse cx="352.54" cy="718.3955" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261.2422" x="361.54" y="722.1866">buffer_audio(chunk: np.ndarray) : void</text><ellipse cx="352.54" cy="734.8838" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.2529" x="361.54" y="738.6748">get_duration() -&gt; float</text></g><!--class TranscriptionClient--><g class="entity" data-entity="TranscriptionClient" data-source-line="52" data-uid="ent0006" id="entity_TranscriptionClient"><rect fill="#F1F1F1" height="146.9297" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="452.7813" x="683.61" y="598.6983"/><ellipse cx="840.7648" cy="614.6983" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M843.2379,620.8413 Q842.6569,621.1402 842.0177,621.2896 Q841.3786,621.439 840.673,621.439 Q838.1662,621.439 836.8463,619.7871 Q835.5265,618.1353 835.5265,615.0142 Q835.5265,611.8848 836.8463,610.2329 Q838.1662,608.5811 840.673,608.5811 Q841.3786,608.5811 842.026,608.7305 Q842.6735,608.8799 843.2379,609.1788 L843.2379,611.9014 Q842.6071,611.3204 842.0136,611.0506 Q841.4201,610.7808 840.7892,610.7808 Q839.4445,610.7808 838.7597,611.8475 Q838.0748,612.9141 838.0748,615.0142 Q838.0748,617.106 838.7597,618.1726 Q839.4445,619.2393 840.7892,619.2393 Q841.4201,619.2393 842.0136,618.9695 Q842.6071,618.6997 843.2379,618.1187 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.9717" x="861.2648" y="619.9893">TranscriptionClient</text><line style="stroke:#181818;stroke-width:0.5;" x1="684.61" x2="1135.3913" y1="630.6983" y2="630.6983"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="691.61" y="641.4424"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="426.7813" x="703.61" y="648.2334">api_url: str = "http://127.0.0.1:5000/v1/audio/transcriptions"</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="691.61" y="657.9307"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.042" x="703.61" y="664.7217">language: str = "en"</text><line style="stroke:#181818;stroke-width:1;" x1="684.61" x2="1135.3913" y1="671.6748" y2="671.6748"/><ellipse cx="694.61" cy="685.419" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="263.9697" x="703.61" y="689.21">send_audio(audio_buffer: bytes) -&gt; str</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="691.61" y="698.9073"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="291.9014" x="703.61" y="705.6983">convert_to_pcm16(float32_audio) -&gt; bytes</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="691.61" y="715.3955"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230.877" x="703.61" y="722.1866">write_wav_file(audio_bytes) -&gt; str</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="691.61" y="731.8838"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260.7021" x="703.61" y="738.6748">call_transcription_api(wav_file) -&gt; dict</text></g><!--class DMSLMMain--><g class="entity" data-entity="DMSLMMain" data-source-line="64" data-uid="ent0008" id="entity_DMSLMMain"><rect fill="#F1F1F1" height="113.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173.1572" x="1192.42" y="615.1883"/><ellipse cx="1233.9805" cy="631.1883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1236.4537,637.3313 Q1235.8726,637.6302 1235.2335,637.7796 Q1234.5943,637.929 1233.8888,637.929 Q1231.3819,637.929 1230.0621,636.2771 Q1228.7423,634.6253 1228.7423,631.5042 Q1228.7423,628.3748 1230.0621,626.7229 Q1231.3819,625.0711 1233.8888,625.0711 Q1234.5943,625.0711 1235.2418,625.2205 Q1235.8892,625.3699 1236.4537,625.6688 L1236.4537,628.3914 Q1235.8228,627.8104 1235.2293,627.5406 Q1234.6358,627.2708 1234.005,627.2708 Q1232.6602,627.2708 1231.9754,628.3375 Q1231.2906,629.4041 1231.2906,631.5042 Q1231.2906,633.596 1231.9754,634.6626 Q1232.6602,635.7293 1234.005,635.7293 Q1234.6358,635.7293 1235.2293,635.4595 Q1235.8228,635.1897 1236.4537,634.6087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.1338" x="1253.8829" y="636.4793">DMSLMMain</text><line style="stroke:#181818;stroke-width:0.5;" x1="1193.42" x2="1364.5772" y1="647.1883" y2="647.1883"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1200.42" y="657.9324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.8672" x="1212.42" y="664.7234">messages: list</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1200.42" y="674.4207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.4619" x="1212.42" y="681.2117">session: bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1200.42" y="690.909"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.4541" x="1212.42" y="697.7">UserCanSpeak: bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1200.42" y="707.3973"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.1572" x="1212.42" y="714.1883">last_active_time: float</text><line style="stroke:#181818;stroke-width:0.5;" x1="1193.42" x2="1364.5772" y1="721.1414" y2="721.1414"/></g><!--class TranscriptionAPI--><g class="entity" data-entity="TranscriptionAPI" data-source-line="73" data-uid="ent0010" id="entity_TranscriptionAPI"><rect fill="#F1F1F1" height="113.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="235.4258" x="818.29" y="820.6283"/><ellipse cx="875.8042" cy="836.6283" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M872.2319,832.8934 L872.2319,830.7352 L879.6113,830.7352 L879.6113,832.8934 L877.146,832.8934 L877.146,840.9701 L879.6113,840.9701 L879.6113,843.1283 L872.2319,843.1283 L872.2319,840.9701 L874.6972,840.9701 L874.6972,832.8934 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="111.8975" x="896.3042" y="841.9193">TranscriptionAPI</text><line style="stroke:#181818;stroke-width:0.5;" x1="819.29" x2="1052.7158" y1="852.6283" y2="852.6283"/><ellipse cx="829.29" cy="866.3724" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209.4258" x="838.29" y="870.1634">POST /v1/audio/transcriptions</text><ellipse cx="829.29" cy="882.8607" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8848" x="838.29" y="886.6517">file: audio/wav</text><ellipse cx="829.29" cy="899.349" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.1064" x="838.29" y="903.14">language: str</text><ellipse cx="829.29" cy="915.8373" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.374" x="838.29" y="919.6283">Returns: {"text": str}</text><line style="stroke:#181818;stroke-width:0.5;" x1="819.29" x2="1052.7158" y1="926.5814" y2="926.5814"/></g><!--class MessageAPI--><g class="entity" data-entity="MessageAPI" data-source-line="80" data-uid="ent0011" id="entity_MessageAPI"><rect fill="#F1F1F1" height="97.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167.5381" x="1088.23" y="828.8683"/><ellipse cx="1128.3017" cy="844.8683" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1124.7294,841.1334 L1124.7294,838.9752 L1132.1088,838.9752 L1132.1088,841.1334 L1129.6435,841.1334 L1129.6435,849.2101 L1132.1088,849.2101 L1132.1088,851.3683 L1124.7294,851.3683 L1124.7294,849.2101 L1127.1947,849.2101 L1127.1947,841.1334 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.8232" x="1147.8732" y="850.1593">MessageAPI</text><line style="stroke:#181818;stroke-width:0.5;" x1="1089.23" x2="1254.7681" y1="860.8683" y2="860.8683"/><ellipse cx="1099.23" cy="874.6124" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.1826" x="1108.23" y="878.4034">POST /message</text><ellipse cx="1099.23" cy="891.1007" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.4014" x="1108.23" y="894.8917">json: text</text><ellipse cx="1099.23" cy="907.589" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.5381" x="1108.23" y="911.38">Returns: status_code</text><line style="stroke:#181818;stroke-width:0.5;" x1="1089.23" x2="1254.7681" y1="918.3331" y2="918.3331"/></g><!--class AudioDevice--><g class="entity" data-entity="AudioDevice" data-source-line="86" data-uid="ent0012" id="entity_AudioDevice"><rect fill="#F1F1F1" height="80.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="398.0049" x="1291" y="837.1183"/><ellipse cx="1443.5747" cy="853.1183" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1440.0024,849.3834 L1440.0024,847.2252 L1447.3818,847.2252 L1447.3818,849.3834 L1444.9165,849.3834 L1444.9165,857.4601 L1447.3818,857.4601 L1447.3818,859.6183 L1440.0024,859.6183 L1440.0024,857.4601 L1442.4678,857.4601 L1442.4678,849.3834 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84.3555" x="1464.0747" y="858.4093">AudioDevice</text><line style="stroke:#181818;stroke-width:0.5;" x1="1292" x2="1688.0049" y1="869.1183" y2="869.1183"/><ellipse cx="1302" cy="882.8624" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.4014" x="1311" y="886.6534">Microphone audio input</text><line style="stroke:#181818;stroke-width:0.5;" x1="1292" x2="1688.0049" y1="893.6066" y2="893.6066"/><ellipse cx="1302" cy="907.3507" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="372.0049" x="1311" y="911.1417">InputStream(samplerate, blocksize, channels, callback)</text></g><!--link VoiceInput to DMSLMMain--><g class="link" data-entity-1="VoiceInput" data-entity-2="DMSLMMain" data-source-line="92" data-uid="lnk13" id="link_VoiceInput_DMSLMMain"><path codeLine="92" d="M1118.74,539.0883 C1150.47,567.0383 1167.0252,581.6759 1192.6052,603.3059" fill="none" id="VoiceInput-to-DMSLMMain" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1206.35,614.9283,1196.4793,598.7243,1188.731,607.8875,1206.35,614.9283" style="stroke:#181818;stroke-width:1;"/></g><!--link VoiceInput to DMSLMMain--><g class="link" data-entity-1="VoiceInput" data-entity-2="DMSLMMain" data-source-line="99" data-uid="lnk20" id="link_VoiceInput_DMSLMMain"><path codeLine="99" d="M1136.48,532.1483 C1170,562.5583 1196.78,587.1757 1221.39,610.5557" fill="none" id="VoiceInput-to-DMSLMMain-1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1225.74,614.6883,1221.9701,605.5895,1222.115,611.2445,1216.46,611.3894,1225.74,614.6883" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link VoiceInput to WakeWordDetector--><g class="link" data-entity-1="VoiceInput" data-entity-2="WakeWordDetector" data-source-line="93" data-uid="lnk14" id="link_VoiceInput_WakeWordDetector"><path codeLine="93" d="M602.6175,432.178 C510.0675,475.628 416.8,521.5683 324,572.1883 C300.06,585.2483 274.71,600.3183 251.42,614.6983" fill="none" id="VoiceInput-backto-WakeWordDetector" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="613.48,427.0783,606.3489,426.0073,602.6175,432.178,609.7487,433.2489,613.48,427.0783" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link VoiceInput to AudioProcessor--><g class="link" data-entity-1="VoiceInput" data-entity-2="AudioProcessor" data-source-line="94" data-uid="lnk15" id="link_VoiceInput_AudioProcessor"><path codeLine="94" d="M625.1075,547.3612 C602.9375,568.4612 590.46,580.3283 571.64,598.2383" fill="none" id="VoiceInput-backto-AudioProcessor" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="633.8,539.0883,626.6961,540.3273,625.1075,547.3612,632.2114,546.1222,633.8,539.0883" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link VoiceInput to TranscriptionClient--><g class="link" data-entity-1="VoiceInput" data-entity-2="TranscriptionClient" data-source-line="95" data-uid="lnk16" id="link_VoiceInput_TranscriptionClient"><path codeLine="95" d="M898.3748,551.0326 C900.4148,572.1326 901.21,580.3283 902.94,598.2383" fill="none" id="VoiceInput-backto-TranscriptionClient" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="897.22,539.0883,893.816,545.4454,898.3748,551.0326,901.7788,544.6755,897.22,539.0883" style="stroke:#181818;stroke-width:1;"/></g><!--link VoiceInput to AudioDevice--><g class="link" data-entity-1="VoiceInput" data-entity-2="AudioDevice" data-source-line="96" data-uid="lnk17" id="link_VoiceInput_AudioDevice"><path codeLine="96" d="M1136.63,377.6183 C1241.91,417.7283 1355.36,479.3983 1428,572.1883 C1489.26,650.4383 1494.63,767.741 1492.74,830.711" fill="none" id="VoiceInput-to-AudioDevice" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1492.56,836.7083,1496.8282,827.8323,1492.71,831.7105,1488.8318,827.5923,1492.56,836.7083" style="stroke:#181818;stroke-width:1;"/></g><!--link TranscriptionClient to TranscriptionAPI--><g class="link" data-entity-1="TranscriptionClient" data-entity-2="TranscriptionAPI" data-source-line="97" data-uid="lnk18" id="link_TranscriptionClient_TranscriptionAPI"><path codeLine="97" d="M919.31,746.0283 C922.43,770.4283 925.0998,791.2966 928.0298,814.2366" fill="none" id="TranscriptionClient-to-TranscriptionAPI" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="928.79,820.1883,931.6175,810.754,928.1565,815.2286,923.682,811.7676,928.79,820.1883" style="stroke:#181818;stroke-width:1;"/></g><!--link VoiceInput to MessageAPI--><g class="link" data-entity-1="VoiceInput" data-entity-2="MessageAPI" data-source-line="98" data-uid="lnk19" id="link_VoiceInput_MessageAPI"><path codeLine="98" d="M1136.64,381.7983 C1230.86,421.8183 1327.33,482.3083 1382,572.1883 C1427.6,647.1583 1441.74,705.3483 1382,769.6283 C1365.47,787.4183 1295.13,767.6283 1273,777.6283 C1247.94,788.9483 1229.4889,804.8442 1212.1389,824.1642" fill="none" id="VoiceInput-to-MessageAPI" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1208.13,828.6283,1217.1195,824.6047,1211.4708,824.9082,1211.1673,819.2595,1208.13,828.6283" style="stroke:#181818;stroke-width:1;"/></g><!--SRC=[bLRRRkCs47ttLn1-A9IkRybU8Q01KaUB6BKsQUHjW1O5GKlZc0rDQadAYPlctpkKx9Xqb6Bh1zlYtC-S6SfoAu3SBBafGQUggF2fJtvJF0SoaMLboGzaffaqkUQbvKgIR6Cih3gTakLtx1P8zxunNjN6NVBOwH3yv88PqpXg_3pMn-xJ9ol6PKpEqsoQflZNazopExXHkZ0n4TnOyXFveti16_9PSv15jqVmIGZbF_D0kDcGHVFuPyVpcvsbLzE4Nf_DafXmwHo_-pGQZJoLdwUNurzeDldzMUDazEwJxsCoJRwC4pgRfCdbrrbC5a8nfpSQVFJKhjECpYwka-pYSdhkAusEttjgwUGBpQwIP7n1isJiwxqT-Pcpgk2AVgkWWfZywduy8G8F-PBEgyK2T4naEP05qvfjGXrsn-LjJEPA2OpmcGaJEB6gfB06QMDYbnfOWTg3n1ruMguT847JHYKci_hNIxN__FSDePHBRYcDNAjxf80r4W7F2dXuVf9i1NI9K1zvXbi2d8E5t2eTMNZ0j8pLHwH_MbVWHz4h4zK0-RNNcZMSWIeO9TP0_LIYCAzzGiu3bu5zquUS2J57vaTemYph8TdGoFI8vIldPw5wc2opbV6BeWruqH69oLhnmXULMkLWpCx_if9tKVqTblJIq6x7SWwKoO8Qv7nhW5m0qrltBZLeqt8S2C-V_3c-sOxbhYt1D1_Ch2V9AwiM2v_R7zhfKjH-_wlPRcbOf7ekb06iGoD7pMi6GUvdhlAh1kM3pBzdVDh6kRq8v4PU2GJuVz2I6zea4Q7DrdiRqviKcov-5prkmTAYqipjxEWWT01FiDt70bTdkAjPoMcbHOqojh2xjBQCXyFZauy3N6c3u_Wzhj7X-dXOvpQqlZlJzHS8axSLtXZFda1ssu5qLDwMsj1srw3vneAfYq4NFi-KN8Esr2fQvglZ3r5TwzkJnac3fpFrIQivDkgUhUc22zZ5USq_JZqDAgC8IxIphYqAdk_GVV9knv9fHBIxXRI1_FdY2oz5v2UQl9mYWm8C6HyEn5S3UinavlRx2o46ifJbbkFASxif3lhlPvWyMD2I2PA1TjlGx9B51GXwmV1D8E38sTN4o_iDkRhCPkGr0dXw3gcukSw6Y9md2PZXdL-3hRH4G1wxRj2xjVp9f_0-nRH1hpsvBRJU-L_60UgyjiLhDZZDLG7jqUgTSbvV7a6u-bKditWnhYB3LgK0d43eaRbG-PtXV-FVVCca185NnkukyM-AbETQbKibeK4AOwB7VTUy5wf-_vzJxntAa_pOxx_Os8VoS2iUIbkMGXZwr8UWqxP3dCuXRmvzx9jsADdNzIy0]--></g></svg>