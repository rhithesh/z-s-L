<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="818px" preserveAspectRatio="none" style="width:1483px;height:818px;background:#FFFFFF;" version="1.1" viewBox="0 0 1483 818" width="1483px" zoomAndPan="magnify"><title>LLMClass Architecture</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="160.8291" x="654.2608" y="23.5352">LLMClass Architecture</text></g><!--cluster llmclass--><g class="cluster" data-entity="llmclass" data-source-line="3" data-uid="ent0002" id="cluster_llmclass"><path d="M8.5,43.4883 L68.248,43.4883 A3.75,3.75 0 0 1 70.748,45.9883 L77.748,65.9766 L711.5,65.9766 A2.5,2.5 0 0 1 714,68.4766 L714,545.2883 A2.5,2.5 0 0 1 711.5,547.7883 L8.5,547.7883 A2.5,2.5 0 0 1 6,545.2883 L6,45.9883 A2.5,2.5 0 0 1 8.5,43.4883" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="77.748" y1="65.9766" y2="65.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="58.748" x="10" y="59.0234">llmclass</text></g><!--cluster parent--><g class="cluster" data-entity="parent" data-source-line="40" data-uid="ent0006" id="cluster_parent"><path d="M530.5,596.7883 L578.4424,596.7883 A3.75,3.75 0 0 1 580.9424,599.2883 L587.9424,619.2766 L811.5,619.2766 A2.5,2.5 0 0 1 814,621.7766 L814,808.7083 A2.5,2.5 0 0 1 811.5,811.2083 L530.5,811.2083 A2.5,2.5 0 0 1 528,808.7083 L528,599.2883 A2.5,2.5 0 0 1 530.5,596.7883" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="528" x2="587.9424" y1="619.2766" y2="619.2766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="46.9424" x="532" y="612.3234">parent</text></g><!--cluster config--><g class="cluster" data-entity="config" data-source-line="53" data-uid="ent0008" id="cluster_config"><path d="M1156.5,125.9283 L1202.6787,125.9283 A3.75,3.75 0 0 1 1205.1787,128.4283 L1212.1787,148.4166 L1323.5,148.4166 A2.5,2.5 0 0 1 1326,150.9166 L1326,222.4283 A2.5,2.5 0 0 1 1323.5,224.9283 L1156.5,224.9283 A2.5,2.5 0 0 1 1154,222.4283 L1154,128.4283 A2.5,2.5 0 0 1 1156.5,125.9283" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1154" x2="1212.1787" y1="148.4166" y2="148.4166"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="45.1787" x="1158" y="141.4634">config</text></g><!--cluster Monitoring Flow--><g class="cluster" data-entity="Monitoring Flow" data-source-line="57" data-uid="ent0010" id="cluster_Monitoring Flow"><path d="M740.5,98.9983 L859.085,98.9983 A3.75,3.75 0 0 1 861.585,101.4983 L868.585,121.4866 L1127.5,121.4866 A2.5,2.5 0 0 1 1130,123.9866 L1130,249.3583 A2.5,2.5 0 0 1 1127.5,251.8583 L740.5,251.8583 A2.5,2.5 0 0 1 738,249.3583 L738,101.4983 A2.5,2.5 0 0 1 740.5,98.9983" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="738" x2="868.585" y1="121.4866" y2="121.4866"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="117.585" x="742" y="114.5334">Monitoring Flow</text></g><!--class LLMClass--><g class="entity" data-entity="LLMClass" data-source-line="5" data-uid="ent0003" id="entity_LLMClass"><rect fill="#F1F1F1" height="212.8828" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="436.0605" x="261.97" y="78.4883"/><ellipse cx="444.387" cy="94.4883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M446.8601,100.6313 Q446.2791,100.9302 445.6399,101.0796 Q445.0008,101.229 444.2952,101.229 Q441.7884,101.229 440.4685,99.5771 Q439.1487,97.9253 439.1487,94.8042 Q439.1487,91.6748 440.4685,90.0229 Q441.7884,88.3711 444.2952,88.3711 Q445.0008,88.3711 445.6482,88.5205 Q446.2957,88.6699 446.8601,88.9688 L446.8601,91.6914 Q446.2293,91.1104 445.6358,90.8406 Q445.0423,90.5708 444.4114,90.5708 Q443.0667,90.5708 442.3819,91.6375 Q441.6971,92.7041 441.6971,94.8042 Q441.6971,96.896 442.3819,97.9626 Q443.0667,99.0293 444.4114,99.0293 Q445.0423,99.0293 445.6358,98.7595 Q446.2293,98.4897 446.8601,97.9087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.7266" x="464.887" y="99.7793">LLMClass</text><line style="stroke:#181818;stroke-width:0.5;" x1="262.97" x2="697.0305" y1="110.4883" y2="110.4883"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="269.97" y="121.2324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.5303" x="281.97" y="128.0234">main: DMSLMMain</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="269.97" y="137.7207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.1406" x="281.97" y="144.5117">fail_rate: int = 0</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="269.97" y="154.209"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.1494" x="281.97" y="161">closed_counter: int = 0</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="269.97" y="170.6973"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.9844" x="281.97" y="177.4883">stoper: int = 1</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="269.97" y="187.1855"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.1768" x="281.97" y="193.9766">drow_event_time: list</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="281.97" y="210.4648">&#160;</text><line style="stroke:#181818;stroke-width:1;" x1="262.97" x2="697.0305" y1="217.418" y2="217.418"/><ellipse cx="272.97" cy="231.1621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.6543" x="281.97" y="234.9531">__init__(main: DMSLMMain)</text><ellipse cx="272.97" cy="247.6504" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.6963" x="281.97" y="251.4414">analyze_llm_call_need() : void</text><ellipse cx="272.97" cy="264.1387" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324.4814" x="281.97" y="267.9297">play_wav(filename: str, time_of_file: float) : void</text><ellipse cx="272.97" cy="280.627" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="410.0605" x="281.97" y="284.418">clear_queue_and_stop(q: Queue, num_consumers: int) : void</text></g><!--class DrowsinesDetector--><g class="entity" data-entity="DrowsinesDetector" data-source-line="19" data-uid="ent0004" id="entity_DrowsinesDetector"><rect fill="#F1F1F1" height="163.418" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="304.9609" x="21.52" y="368.3683"/><ellipse cx="105.5166" cy="384.3683" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M107.9897,390.5113 Q107.4087,390.8102 106.7695,390.9596 Q106.1304,391.109 105.4248,391.109 Q102.9179,391.109 101.5981,389.4571 Q100.2783,387.8053 100.2783,384.6842 Q100.2783,381.5548 101.5981,379.9029 Q102.9179,378.2511 105.4248,378.2511 Q106.1304,378.2511 106.7778,378.4005 Q107.4253,378.5499 107.9897,378.8488 L107.9897,381.5714 Q107.3589,380.9904 106.7654,380.7206 Q106.1719,380.4508 105.541,380.4508 Q104.1963,380.4508 103.5115,381.5175 Q102.8266,382.5841 102.8266,384.6842 Q102.8266,386.776 103.5115,387.8426 Q104.1963,388.9093 105.541,388.9093 Q106.1719,388.9093 106.7654,388.6395 Q107.3589,388.3697 107.9897,387.7887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.4678" x="126.0166" y="389.6593">DrowsinesDetector</text><line style="stroke:#181818;stroke-width:0.5;" x1="22.52" x2="325.4809" y1="400.3683" y2="400.3683"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.52" y="411.1124"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3086" x="41.52" y="417.9034">closed_counter: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.52" y="427.6007"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.2998" x="41.52" y="434.3917">fail_rate: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.52" y="444.089"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.2607" x="41.52" y="450.88">threshold: int = 10</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="41.52" y="467.3683">&#160;</text><line style="stroke:#181818;stroke-width:1;" x1="22.52" x2="325.4809" y1="474.3214" y2="474.3214"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.52" y="485.0655"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278.9609" x="41.52" y="491.8566">check_eye_state(left: str, right: str) : bool</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.52" y="501.5538"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.1475" x="41.52" y="508.3448">update_counter(state: bool) : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="29.52" y="518.0421"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.5869" x="41.52" y="524.8331">should_trigger_llm() : bool</text></g><!--class AudioHandler--><g class="entity" data-entity="AudioHandler" data-source-line="30" data-uid="ent0005" id="entity_AudioHandler"><rect fill="#F1F1F1" height="130.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="336.0986" x="361.95" y="384.8583"/><ellipse cx="479.2991" cy="400.8583" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M481.7723,407.0013 Q481.1912,407.3002 480.5521,407.4496 Q479.9129,407.599 479.2073,407.599 Q476.7005,407.599 475.3807,405.9471 Q474.0608,404.2953 474.0608,401.1742 Q474.0608,398.0448 475.3807,396.3929 Q476.7005,394.7411 479.2073,394.7411 Q479.9129,394.7411 480.5604,394.8905 Q481.2078,395.0399 481.7723,395.3388 L481.7723,398.0614 Q481.1414,397.4804 480.5479,397.2106 Q479.9544,396.9408 479.3235,396.9408 Q477.9788,396.9408 477.294,398.0075 Q476.6092,399.0741 476.6092,401.1742 Q476.6092,403.266 477.294,404.3326 Q477.9788,405.3993 479.3235,405.3993 Q479.9544,405.3993 480.5479,405.1295 Q481.1414,404.8597 481.7723,404.2787 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.9004" x="499.7991" y="406.1493">AudioHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="362.95" x2="697.0486" y1="416.8583" y2="416.8583"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="369.95" y="427.6024"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.5762" x="381.95" y="434.3934">piper_audio_queue: Queue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="381.95" y="450.8817">&#160;</text><line style="stroke:#181818;stroke-width:1;" x1="362.95" x2="697.0486" y1="457.8348" y2="457.8348"/><ellipse cx="372.95" cy="471.579" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250.7627" x="381.95" y="475.37">play_alert_sound(filename: str) : void</text><ellipse cx="372.95" cy="488.0673" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="294.3213" x="381.95" y="491.8583">play_emergency_sound(filename: str) : void</text><ellipse cx="372.95" cy="504.5555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310.0986" x="381.95" y="508.3466">play_drowsy_wake_sound(filename: str) : void</text></g><!--class DMSLMMain--><g class="entity" data-entity="DMSLMMain" data-source-line="42" data-uid="ent0007" id="entity_DMSLMMain"><rect fill="#F1F1F1" height="163.418" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="253.9033" x="544.05" y="631.7883"/><ellipse cx="625.6848" cy="647.7883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M628.1579,653.9313 Q627.5769,654.2302 626.9377,654.3796 Q626.2985,654.529 625.593,654.529 Q623.0861,654.529 621.7663,652.8771 Q620.4465,651.2253 620.4465,648.1042 Q620.4465,644.9748 621.7663,643.3229 Q623.0861,641.6711 625.593,641.6711 Q626.2985,641.6711 626.946,641.8205 Q627.5935,641.9699 628.1579,642.2688 L628.1579,644.9914 Q627.5271,644.4104 626.9335,644.1406 Q626.34,643.8708 625.7092,643.8708 Q624.3645,643.8708 623.6796,644.9375 Q622.9948,646.0041 622.9948,648.1042 Q622.9948,650.196 623.6796,651.2626 Q624.3645,652.3293 625.7092,652.3293 Q626.34,652.3293 626.9335,652.0595 Q627.5271,651.7897 628.1579,651.2087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.1338" x="646.1848" y="653.0793">DMSLMMain</text><line style="stroke:#181818;stroke-width:0.5;" x1="545.05" x2="796.9533" y1="663.7883" y2="663.7883"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="552.05" y="674.5324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227.9033" x="564.05" y="681.3234">processdImageJsonQueue: Queue</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="552.05" y="691.0207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.2705" x="564.05" y="697.8117">event_queue: Queue</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="552.05" y="707.509"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.8672" x="564.05" y="714.3">messages: list</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="552.05" y="723.9973"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.4541" x="564.05" y="730.7883">UserCanSpeak: bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="552.05" y="740.4855"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.4619" x="564.05" y="747.2766">session: bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="552.05" y="756.9738"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.1572" x="564.05" y="763.7648">last_active_time: float</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="552.05" y="773.4621"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.5762" x="564.05" y="780.2531">piper_audio_queue: Queue</text><line style="stroke:#181818;stroke-width:0.5;" x1="545.05" x2="796.9533" y1="787.2063" y2="787.2063"/></g><!--class SYSTEMPROMPT--><g class="entity" data-entity="SYSTEMPROMPT" data-source-line="54" data-uid="ent0009" id="entity_SYSTEMPROMPT"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.418" x="1169.79" y="160.9283"/><ellipse cx="1184.79" cy="176.9283" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1181.2177,173.1934 L1181.2177,171.0352 L1188.5971,171.0352 L1188.5971,173.1934 L1186.1318,173.1934 L1186.1318,181.2701 L1188.5971,181.2701 L1188.5971,183.4283 L1181.2177,183.4283 L1181.2177,181.2701 L1183.6831,181.2701 L1183.6831,173.1934 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="108.418" x="1198.79" y="182.2193">SYSTEMPROMPT</text><line style="stroke:#181818;stroke-width:0.5;" x1="1170.79" x2="1309.208" y1="192.9283" y2="192.9283"/><line style="stroke:#181818;stroke-width:0.5;" x1="1170.79" x2="1309.208" y1="200.9283" y2="200.9283"/></g><g class="entity" data-entity="GMN11" data-source-line="60" data-uid="ent0012" id="entity_GMN11"><path d="M753.87,133.9983 L753.87,180.9283 L698.13,184.9283 L753.87,188.9283 L753.87,235.8616 A0,0 0 0 0 753.87,235.8616 L1114.1395,235.8616 A0,0 0 0 0 1114.1395,235.8616 L1114.1395,143.9983 L1104.1395,133.9983 L753.87,133.9983 A0,0 0 0 0 753.87,133.9983" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1104.1395,133.9983 L1104.1395,143.9983 L1114.1395,143.9983 L1104.1395,133.9983" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339.2695" x="759.87" y="151.5666">1. Continuously reads from processdImageJsonQueue</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259.6318" x="759.87" y="166.8772">2. Monitors eye state (left_eye, right_eye)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259.8286" x="759.87" y="182.1877">3. Counts consecutive closed-eye frames</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.4331" x="759.87" y="197.4983">4. Triggers LLM when closed_counter &gt;= 10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.3662" x="759.87" y="212.8088">5. Manages fail_rate for escalation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.3579" x="759.87" y="228.1194">6. Plays audio alerts and wakes driver</text></g><g class="entity" data-entity="GMN18" data-source-line="77" data-uid="ent0019" id="entity_GMN18"><path d="M909.49,368.5283 L909.49,531.6338 L1182.5046,531.6338 L1182.5046,378.5283 L1172.5046,368.5283 L909.49,368.5283" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1172.5046,368.5283 L1172.5046,378.5283 L1182.5046,378.5283 L1172.5046,368.5283" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.9854" x="915.49" y="386.0966">Eye State Detection:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252.0146" x="915.49" y="401.4072">- Tracks consecutive closed-eye frames</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.8916" x="915.49" y="416.7177">- Resets counter when eyes open</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.0732" x="915.49" y="432.0283">- Triggers when threshold reached</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.3242" x="915.49" y="447.3388">- Escalates with fail_rate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="915.49" y="462.6494">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8779" x="915.49" y="477.9599">Escalation Levels:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.0918" x="915.49" y="493.2705">- Level 1: drowwake.wav (9s)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.4976" x="915.49" y="508.581">- Level 2: alert.wav</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.6211" x="915.49" y="523.8916">- Level 3+: emergencyvoice.wav (10.7s)</text></g><g class="entity" data-entity="GMN21" data-source-line="90" data-uid="ent0022" id="entity_GMN21"><path d="M1217.65,376.1883 L1217.65,523.9832 L1476.3507,523.9832 L1476.3507,386.1883 L1466.3507,376.1883 L1217.65,376.1883" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1466.3507,376.1883 L1466.3507,386.1883 L1476.3507,386.1883 L1466.3507,376.1883" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.7163" x="1223.65" y="393.7566">Audio Files Used:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.5054" x="1223.65" y="409.0672">- drowwake.wav (9 seconds)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.0342" x="1223.65" y="424.3777">- alert.wav</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.7007" x="1223.65" y="439.6883">- emergencyvoice.wav (10.7 seconds)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="1223.65" y="454.9988">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.332" x="1223.65" y="470.3094">Audio Format Processing:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.1948" x="1223.65" y="485.6199">- Read WAV file with scipy.io.wavfile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.0737" x="1223.65" y="500.9305">- Support for 8-bit, 16-bit, 32-bit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.6338" x="1223.65" y="516.241">- Queue for async playback</text></g><!--reverse link LLMClass to DrowsinesDetector--><g class="link" data-entity-1="LLMClass" data-entity-2="DrowsinesDetector" data-source-line="71" data-uid="lnk14" id="link_LLMClass_DrowsinesDetector"><path codeLine="71" d="M347.7615,299.6525 C318.2015,325.0725 296.19,343.9983 268.18,368.0883" fill="none" id="LLMClass-backto-DrowsinesDetector" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="356.86,291.8283,349.7027,292.7076,347.7615,299.6525,354.9188,298.7732,356.86,291.8283" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="318.82" y="334.9366">uses</text></g><!--reverse link LLMClass to AudioHandler--><g class="link" data-entity-1="LLMClass" data-entity-2="AudioHandler" data-source-line="72" data-uid="lnk15" id="link_LLMClass_AudioHandler"><path codeLine="72" d="M502.36,303.6174 C508.33,335.0374 512.45,356.6983 517.76,384.6383" fill="none" id="LLMClass-backto-AudioHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="500.12,291.8283,497.3103,298.4695,502.36,303.6174,505.1697,296.9762,500.12,291.8283" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="508.99" y="334.9366">uses</text></g><!--link LLMClass to DMSLMMain--><g class="link" data-entity-1="LLMClass" data-entity-2="DMSLMMain" data-source-line="73" data-uid="lnk16" id="link_LLMClass_DMSLMMain"><path codeLine="73" d="M653.62,291.7683 C678.24,314.0883 700.44,339.6983 716,368.3683 C761.16,451.5883 752.37,488.3283 732,580.7883 C728.26,597.7683 724.4586,609.6513 717.4686,626.0013" fill="none" id="LLMClass-to-DMSLMMain" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="715.11,631.5183,722.3259,624.8153,717.0755,626.9208,714.97,621.6704,715.11,631.5183" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.4063" x="749.65" y="455.1466">accesses queues</text></g><!--link AudioHandler to DMSLMMain--><g class="link" data-entity-1="AudioHandler" data-entity-2="DMSLMMain" data-source-line="74" data-uid="lnk17" id="link_AudioHandler_DMSLMMain"><path codeLine="74" d="M564.85,515.6983 C583.69,550.6283 604.2922,588.8172 624.3522,626.0172" fill="none" id="AudioHandler-to-DMSLMMain" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="627.2,631.2983,626.449,621.4781,624.8268,626.8974,619.4075,625.2752,627.2,631.2983" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.9023" x="597.27" y="577.3566">puts audio to queue</text></g><!--link DrowsinesDetector to GMN18--><g class="link" data-entity-1="DrowsinesDetector" data-entity-2="GMN18" data-source-line="77" data-uid="lnk20" id="link_DrowsinesDetector_GMN18"><path d="M279.41,367.9283 C304.95,352.2683 333.11,338.1883 361.5,329.8683 C468.77,298.4383 757.47,297.6383 864.5,329.8683 C892.37,338.2683 919.89,352.4783 944.75,368.2683" fill="none" id="DrowsinesDetector-GMN18" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link AudioHandler to GMN21--><g class="link" data-entity-1="AudioHandler" data-entity-2="GMN21" data-source-line="90" data-uid="lnk23" id="link_AudioHandler_GMN21"><path d="M621.74,384.4983 C657.64,362.6183 700.28,340.9883 742.5,329.8683 C837.06,304.9783 1089.55,299.5283 1182.5,329.8683 C1212.43,339.6383 1241.43,357.1483 1266.53,375.8283" fill="none" id="AudioHandler-GMN21" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--SRC=[bLNRRkCs47tNLmpoKgSR6N7IRbi1NI18icYB6CskqnPz8XXfP1EXIOL3nN0N-VSEALaNnqQtVh6akMXupfaZhxn6kBkRNsj915SkNocFkQyT9aabyoUvH3ZHUfs7-0byIHBWNxphoxx4X-6Nmbegay7DV74td_Fb859AfOMJ7ZDGniFFS3u8vjeI5YAtjV7e3cMGjrKVcGqYXRCRWIzelF1gpUsr8f_q2Mbt-Gw4K4Pv8IPxSvuESgIHUliF2ZwsoANMmY0MarF8uCMgOf1OQRaL6_aoAPL68yEhoRip25C8MuhmE8DIM-aFLESQfHFFDTOef2b4EE3aEODFuSaPc9hVRWtLQtGKZptgyJfaueOH86MGRZ2mPzs8aWFO7gLb4F0hXxIokkWmFpy8AhzWXVcJm2to6RZHH6FfMoYSMgwQwp3zexLwK5TN1QVl1fl4uYRf3LpC_yhMkX2UEoxH1N8cevOZGAxgGjbV65MDOomgnI8ICeGRw5kyZyWbCYovYHV4KnPZfez90fco9Pfy-t-AWeefoEa9_xFiDNaTh6Sb7Mj_RpaxPO-FxsoEHCMlQwxyZQpvDCIWpskswVbmSCqTk9pQHUi3Vn2wQsaM5SgdDsGJLobhtZpdQRsGkLSlsAvlN9YluUmj5BmmfLgUj6TMGLQbp14MVoyURkVtdt-Vtp-C2kQMxS0wPPRmKTjD1wAn7XlnWYqFETri2jVMU6LgMvFUWaDP49JEhe-0t5LUJA5zAm7l34JPGroQi4FjpeJBtfGkmzjuImY29M1U1xZQnKv3azAnKAZB_suA3ysYH9k6pGhDdW_0XxZHkuhlUIesFgQrTmGesKcGs0EbP-gwtFTJk6V94aHE8Eu7tvW2Wdg93PcdSpqzty1dR5hGIbMK91sUtwRf0VFAe6QrZBD66xsVaAOV1eBFGEQ109uaoeMIKV5-SbNxtKcyRIgIPCp_CN-zPUGNaRuc4FITDA9zS2onhw4hPN088xCDBv4hJYBW3vxfshLincXdpK5sxBv5ctNRSCMb6-LNFP6Dfcyx9k6E5rpJRjPu1xCiVaa3XLF-gC7a9peT9Lna3TKXEWfSlikWypmsgRnjC3kV_i0zNlVXFE3EyH5yPCUZO2F5RhIzYTX56D6Y6sn_dcDJz7N3jrctbXxkctLb2yWwGcG1Vrtz2S616oWfLzLsgcne6PwscOkwggppSL5-J1-LFuFP- -R_yYByjtdH0MAMfAt9e-C_ia0Octy1]--></g></svg>